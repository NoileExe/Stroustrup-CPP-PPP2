1. Перечислите разумные операции для реальных объектов, указанных в разделе 9.1 (например, для тостера).

2. Разработайте и реализуйте класс Name_pairs, содержащий пару (имя, возраст), где имя - объект класса string, а возраст - переменная типа double. Представьте эти члены класса в виде объектов классов vector<string> (с именем name) и vector<double> (с именем age). Предусмотрите операцию ввода read_names(), считывающую ряд имен. Предусмотрите операцию read_ages(), предлагающую пользователю ввести возраст для каждого имени. Предусмотрите операцию print(), которая выводит на экран пары (name[i], age[i]) (по одной в строке) в порядке, определенном вектором name. Предусмотрите операцию sort(), упорядочивающую вектор name в алфавитном порядке и соответствующим образом реорганизующую вектор age. Реализуйте все "операции" как функции-члены. Протестируйте этот класс (конечно, тестировать надо как можно раньше и чаще).

3. Замените функцию Name_pair::print() (глобальным) оператором ореrator<< и определите операции == и != для объектов класса Name_pair.

4. Посмотрите на "головоломный" пример из раздела 8.4. Корректно расставьте в нем отступы и поясните смысл каждой конструкции. Заметим, что этот код не делает никаких осмысленных операций; это просто "запудривание мозгов".

5. Для выполнения этого и нескольких следующих упражнений необходимо разработать и реализовать класс Book. который является частью программного обеспечения библиотеки. Класс Book должен иметь члены для хранения кода ISBN, названия, фамилии автора и даты регистрации авторских прав. Кроме того, он должен хранить данные о том, выдана книга на руки или нет. Создайте функции, возвращающие эти данные. Создайте функции, проверяющие, выдана ли книга на руки. Предусмотрите простую проверку данных, которые вводятся в объект класса Book; например, код ISBN допускается только в форме n-n-n-x, где n - целое число; х - цифра или буква. Храните код ISBN как string.

6. Добавьте операторы в класс Book. Пусть оператор == проверяет, совпадают ли коды ISBN у двух книг. Пусть оператор != также сравнивает коды ISBN, а оператор << выводит в поток название, фамилию автора и код ISBN в отдельных строках.

7. Создайте перечисление для класса Book с именем Genre. Предусмотрите типы для фантастики, прозы, периодических изданий, биографий и детской литературы. Отнесите каждую книгу к определенному жанру Genre и внесите соответствующие изменения в конструктор класса Book и его функции-члены.

8. Создайте класс Patron для библиотеки. Этот класс должен содержать имя пользователя, номер библиотечной карточки, а также размер членского взноса. Предусмотрите функции, имеющие доступ к этим членам, а также функцию, устанавливающую размер членского взноса. Предусмотрите вспомогательный метод, возвращающий булево значение (bool), указывающее, заплатил ли пользователь членские взносы.

9. Создайте класс Library. Включите в него векторы классов Вооk и Раtron. Включите также структуру Transaction и предусмотрите в ней члены классов Book, Patron и класс Date из текста данной главы. Создайте вектор объектов класса Transaction. Создайте функции, добавляющие записи о книгах и клиентах библиотеки, а также о состоянии книг (выдана ли книга читателю). Если пользователь взял книгу, библиотека должна быть уверена, что пользователь является ее клиентом, а книга принадлежит ее фондам. Если эти условия не выполняются, выдайте сообщение об ошибке. Проверьте также, нет ли у пользователя задолженности по уплате членских взносов. Если задолженность есть, выдайте сообщение об ошибке. Если нет, создайте объект класса Transaction и поместите его в вектор объектов класса Transaction. Напишите также функцию, возвращающую вектор, содержащий имена всех клиентов, имеющих задолженность.

10. Реализуйте функцию leapyear() из раздела 9.8.

11. Разработайте и реализуйте набор полезных вспомогательных функций для класса Date, включая такие функции, как next workday() (в предположении, что любой день, кроме субботы и воскресенья, является рабочим) и week_of_year() (в предположении, что первая неделя начинается 1 января, а первый день недели - воскресенье).

12. Измените представление класса Date на хранение количества дней, прошедших с 1 января 1970 года (так называемый нулевой день), в переменной типа long int. и соответствующим образом переработайте функции из раздела 9.8. Предусмотрите отбрасывание всех дат, которые находятся за представимыми данным образом пределами (например, смело отбрасывайте все даты, предшествующие нулевому дню, т.е. не допускайте отрицательных дней).

13. Разработайте и реализуйте класс для представления рациональных чисел Rational. Рациональное число состоит из двух частей: числителя и знаменателя, например, 5/6 (пять шестых, или .83333). Предусмотрите операторы присваивания, сложения, вычитания, умножения, деления и проверки равенства. Кроме того, предусмотрите преобразование в тип double. Зачем может понадобиться такой класс Rational?

14. Разработайте и реализуйте класс Money для вычислений, связанных с долларами и центами, точность которых определяется по правилу округления 4/5 (0,5 цента округляется вверх: все, что меньше 0,5, округляется вниз). Денежные суммы должны представляться в центах с помощью переменной типа long, но ввод и вывод должны использовать доллары и центы, например, $ 123.45. Не беспокойтесь о суммах, выходящих за пределы диапазона типа long int.

15. Доработайте класс Моnеу, добавив в него валюту (как аргумент конструктора). Разрешите использовать инициализаторы с плавающей точкой, если эти значения точно представимы с помощью типа long int. Не допускайте некорректных операций. Например, выражение Моnеу*Моnеу не имеет смысла, а USD1.23+DКК5.00 имеет смысл, только если существует таблица преобразования, определяющая обменный курс между американскими долларами (USD) и датскими кронами (DКК).

16. Определите оператор ввода >>, который считывает денежные суммы с указанием валют (например. USD1.23 или DКК5.00) в переменную типа Money. Определите также соответствующий оператор вывода <<.

17. Приведите пример вычислений, когда класс Rational позволяет получить математически лучшие результаты, чем класс Money.

18. Приведите пример вычислений, в котором класс Rational позволяет получить математически лучшие результаты, чем тип double.
