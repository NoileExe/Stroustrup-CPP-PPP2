/*
	–ü–µ—Ä–µ–≤–æ–¥ –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ (—Å—Ç—Ä–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è) –æ—Ç 1 –¥–æ 4 —Å–∏–º–≤–æ–ª–æ–≤ 
	–≤ —á–∏—Å–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: "123 -> 123 - —ç—Ç–æ: 1 —Å–æ—Ç–Ω—è, 2 –¥–µ—Å—è—Ç–∫–∞ –∏ 3 –µ–¥–∏–Ω–∏—Ü—ã", —Ç–∞–∫ –∂–µ,
	–∫–∞–∫ –≤–∏–¥–Ω–æ, —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ
*/

#include <yes_or_no.h>
#include <console_encoding.h>
#include <std_lib_facilities.h>

//------------------------------------------------------------------------------

bool input_check(string); //–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–≤–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–∏–∫–æ–º —Å—Ç—Ä–æ–∫—É
string get_digit_and_ending(int, int); //–§—É–Ω–∫—Ü–∏—è –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞ –∏ –µ–≥–æ —Ä–∞–∑—Ä—è–¥–∞

//------------------------------------------------------------------------------

int main()
{
	ConsoleCP cp {};	//–í–∫–ª—é—á–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π –µ—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
	
	cout << "–í–≤–æ–¥–∏—Ç–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –¥–ª–∏–Ω–æ–π –æ—Ç 1 –¥–æ 4 —Å–∏–º–≤–æ–ª–æ–≤ (–æ—Ç 0 –¥–æ 9999); –Ω–∞–∂–º"
			"–∏—Ç–µ Enter –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.\n–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞—Å–ø–∏—à–µ—Ç —á–∏—Å–ª–æ –Ω–∞ —Ç—ã—Å—è—á–∏,"
			" —Å–æ—Ç–Ω–∏, –¥–µ—Å—è—Ç–∫–∏ –∏ –µ–¥–∏–Ω–∏—Ü—ã\n\n–ß—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –≤"
			"–≤–µ–¥–∏—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—é CTRL+Z.\n\n"; //–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
	
	string input;
	
	//–ü–æ–≤—Ç–æ—Ä—è–µ–º —Å–ª–µ–¥. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤–≤–æ–¥
	while (true)
	{
		cout << "\n\n–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ";
		cin.clear();
		getline(cin, input);
		
		if (cin.eof()) break;
		//–ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ CTRL+Z - –∑–∞–≤–µ—Ä—à–∞–µ–º —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã
		
		else if (input.size() == 0) cerr << "–û–®–ò–ë–ö–ê: –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.";
		//–ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –≤–≤–µ–¥–µ–Ω —Å–ø–µ—Ü —Å–∏–º–≤–æ–ª - –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â. –æ–± –æ—à–∏–±–∫–µ
		
		else if (input_check(input) == false)
			cerr << "–û–®–ò–ë–ö–ê: –≤–≤–µ–¥—ë–Ω–Ω–æ–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º.";
		//–ù–µ —á–∏—Å–ª–æ? - –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
		
		else if ( (input.size() > 4 && input[0] != '-') || (input.size() > 5 && input[0] == '-') )
			cerr << "–û–®–ò–ë–ö–ê: —á–∏—Å–ª–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 9999 (4 —Å–∏–º–≤–æ–ª–∞).";
		//–ë–æ–ª—å—à–µ 4 —Å–∏–º–≤–æ–ª–æ–≤ - –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
		
		else
		{
			
			cout << input << " - —ç—Ç–æ: ";
			
			if (input[0] == '-') input.erase(0, 1);
			//–ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª –ú–ò–ù–£–° - —É–¥–∞–ª—è–µ–º –µ–≥–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —á—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –∑–∞–¥–∞—á—É
			
			while (input.size() > 0)
			{
				if (input.size() > 1)
					cout << input[0] << " " << get_digit_and_ending(input[0]-'0', input.size()) << ", ";
				else
					cout << input[0] << " " << get_digit_and_ending(input[0]-'0', input.size()) << ".";
				
				input.erase(0, 1);
			}
			
		}
	}
	
	cout << "\n\n";
	press_Enter_key();
	return EXIT_SUCCESS;
}

//------------------------------------------------------------------------------

bool input_check(string str)
/*–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–≤–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ª–∏–∫–æ–º —Å—Ç—Ä–æ–∫—É
–ù–∞ –≤—Ö–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ —Ç–æ, —è–≤-—Å—è
–ª–∏ –¥–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¶–ï–õ–´–ú —á–∏—Å–ª–æ–º*/
{
	for (int i = 0; i < str.size(); ++i)
	{
		
		if (str[i] == '.' || str[i] == ',') return false;
		//i-—ã–π —Å–∏–º–≤–æ–ª —Ä–∞–≤–µ–Ω —Å–∏–º–≤–æ–ª—É –¥–µ—Å—è—Ç–∏—á–Ω–æ–π –ó–ü–¢ (".", ",") - –Ω–µ —è–≤-—Å—è —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
		
		else if (i == 0 && str[i] == '-') ;
		//–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª –∏ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –ú–ò–ù–£–°–æ–º - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
		
		else if (str[i] >= '0' && str[i] <= '9')
		{
			if ( i == (str.size()-1) ) return true;
		}
		//–µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —Å–∏–º–≤–æ–ª –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ —Ç–∞–±–ª–∏—Ü–µ ASCII –æ—Ç 0 –¥–æ 9 - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
		//–µ—Å–ª–∏ –∂–µ –¥–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª –µ—â—ë –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤ —Å—Ç—Ä–æ–∫–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—ã–π –æ—Ç–≤–µ—Ç
																	   
		else  return false; //–≤–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç—Ä–∏—Ü. –æ—Ç–≤–µ—Ç
	}
}

//------------------------------------------------------------------------------

string get_digit_and_ending(int num, int unit)
//–ü–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —á–∏—Å–ª–æ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑—Ä—è–¥–∞ (—Ç—ã—Å—è—á–∏, —Å–æ—Ç–Ω–∏, –¥–µ—Å—è—Ç–∫–∏, –µ–¥–∏–Ω–∏—Ü—ã)
//–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞ (—Ä–∞–∑—Ä—è–¥–∞)
//–†–∞–∑—Ä—è–¥—ã:  4 - —Ç—ã—Å—è—á–∏, 3 - —Å–æ—Ç–Ω–∏, 2 - –¥–µ—Å—è—Ç–∫–∏, 1 - –µ–¥–∏–Ω–∏—Ü—ã
{
	switch (unit) //–í—ã–±–æ—Ä –ø–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ main() –∑–Ω–∞—á–µ–Ω–∏—é —Ä–∞–∑—Ä—è–¥–∞
	{
	case 4:
		if ((num == 1 || (num%10) == 1) && num != 11)
			return "—Ç—ã—Å—è—á–∞";
		/*
–ï—Å–ª–∏ –ß–ò–°–õ–û=1 –∏–ª–∏ –µ–¥–∏–Ω–∏—Ü–∞ –Ω–∞ –µ—ë –∫–æ–Ω—Ü–µ (–Ω–∞–ø—Ä. 471) –∏ –≤–≤–µ–¥—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã –Ω–µ 11,
—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤–∞ –≤ –Ω—É–∂–Ω–æ–º —Å–∫–ª–æ–Ω–µ–Ω–∏–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–∫–ª–æ–Ω–µ–Ω–∏—è
—Ä–∞–∑—Ä—è–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–∏—Ñ—Ä—ã, —Ç.–µ. –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–ª—É—á–∞–µ
"471 —Ç—ã—Å—è—á–ê", –∞ –Ω–µ "471 —Ç—ã—Å—è—á")
		*/
		else if ((num == 2 || (num%10) == 2 || num == 3 || (num%10) == 3 || 
		num == 4 || (num%10) == 4) && num != 12 && num != 13 && num != 14)
			return "—Ç—ã—Å—è—á–∏";
		/*
–ï—Å–ª–∏ –ß–?–°–õ–û=2, 3, 4 –∏–ª–∏ —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –Ω–∞ –µ—ë –∫–æ–Ω—Ü–µ (–Ω–∞–ø—Ä. 64) –∏ –≤–≤–µ–¥—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
–Ω–µ —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–æ–º 12, 13 –∏–ª–∏ 14 - –≤—ã–≤–æ–¥–∏—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑—Ä—è–¥–∞ –≤ –Ω—É–∂–Ω–æ–º —Å–∫–ª–æ–Ω–µ–Ω–∏–∏
		*/
		else return "—Ç—ã—Å—è—á"; //–ó–Ω–∞—á–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã –≤–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö
		break;
		
	case 3:
		if ((num == 1 || (num%10) == 1) && num != 11)
			return "—Å–æ—Ç–Ω—è";
		else if ((num == 2 || (num%10) == 2 || num == 3 || (num%10) == 3 || 
		num == 4 || (num%10) == 4) && num != 12 && num != 13 && num != 14)
			return "—Å–æ—Ç–Ω–∏";
		else return "—Å–æ—Ç–µ–Ω";
		break;
			
	case 2:
		if ((num == 1 || (num%10) == 1) && num != 11)
			return "–¥–µ—Å—è—Ç–æ–∫";
		else if ((num == 2 || (num%10) == 2 || num == 3 || (num%10) == 3 || 
		num == 4 || (num%10) == 4) && num != 12 && num != 13 && num != 14)
			return "–¥–µ—Å—è—Ç–∫–∞";
		else return "–¥–µ—Å—è—Ç–∫–æ–≤";
		break;
			
	case 1:
		if ((num == 1 || (num%10) == 1) && num != 11)
			return "–µ–¥–∏–Ω–∏—Ü–∞";
		else if ((num == 2 || (num%10) == 2 || num == 3 || (num%10) == 3 || 
		num == 4 || (num%10) == 4) && num != 12 && num != 13 && num != 14)
			return "–µ–¥–∏–Ω–∏—Ü—ã";
		else return "–µ–¥–∏–Ω–∏—Ü";
		break;
	}
}
